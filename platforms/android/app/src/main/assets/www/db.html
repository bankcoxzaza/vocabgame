<!DOCTYPE html>
<html>
<head>
    <title>Vocab for kids</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>

    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">

 
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"/> -->

</head>

<body onload="init()">

    <div id="result"></div>
    <br>
    <fieldset>
        <legend>Add Work</legend>
        <form>
            <table cellpadding="2" cellspacing="2">
                <tr>
                    <td>Name</td>
                    <td><input type="text" id="workName"></td>
                </tr>

                <tr>
                        <td valign="top">Description</td>
                        <td><textarea rows="5" cols="20" id="description"></textarea></td>
                    </tr>

                    <tr>
                            <td>&nbsp;</td>
                            <td><input type="button" value="Add" onclick="add()"></td>
                        </tr>
                </table>
        </form>
    </fieldset>



    <script type="text/javascript">

    var db = openDatabase('mytasks', '1.0', 'My Tasks', 5*1024*1024);

    function init() {
        db.transaction(function (tx) {
                tx.executeSql('CREATE TABLE IF NOT EXISTS works (id INTEGER PRIMARY KEY, title TEXT, content TEXT, description text, shScore text');

        });
    }



    function displayAll(tx){
        db.transaction(function (tx) {
                tx.executeSql('select * from works', [], function(tx, results){
                    var n = results.rows.length;
                    var s = '<table cellpadding="2" cellspacing="2" border="1">';
                    for(var i=0; i<n; i++) {
                        var work = results.rows.item(i);
                        s += '<tr>';
                        s += '<td>' + work.id + '</td>';
                        s += '<td>' + work.name + '</td>';
                        s += '<td>' + work.description + '</td>';
                        s += '<td>' + work.shScore + '</td>';
                        s += '</tr>';
                    }
                    s+= '</table';
                    document.getElementById('result').innerHTML = s;
                    
               });
            });
        }

        function add(){
            db.transaction(function (tx) {
                var name = document.getElementById('workName').value;
                var description = document.getElementById('description').value;
                var shScore = document.getElementById('shScore').getItem("correct");
                tx.executeSql('insert into works(name, description , shScore) values(?, ?, ?)', [name, description, shScore],displayAll());
                
            });
        }

    </script>


    <script type="text/javascript" src="js/index.js"></script> 
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="materialize/js/materialize.min.js"></script>
    </body>
</html>
